<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>jfniki version: 6f5a806bd342-- a serverless wiki running over Freenet</title>
</head>
<body>
<h4>jfniki version: 6f5a806bd342</h4>
<div>
<code>jfniki plugin.jar</code>:<br/>
<pre><code><a href="/CHK@VEjSWzFAfOw3t9xuNgz3-Ny2-ixAkuYyDQLuK9h1Mng,DELlRHaRYddjfPYsvVMvEx~HjKN04KjNByrtckthlDE,AAIC--8/jfniki.6f5a806bd342.jar">CHK@VEjSWzFAfOw3t9xuNgz3-Ny2-ixAkuYyDQLuK9h1Mng,DELlRHaRYddjfPYsvVMvEx~HjKN04KjNByrtckthlDE,AAIC--8/jfniki.6f5a806bd342.jar</a></code></pre><p/>
<code>source code zip:</code><br/>
<pre><code><a href="/CHK@hOK~y9pDhPWQdLr0H9122~Z3CyleZgO~adtyPMMikh4,oxHaxq9bSyK62r8r5ZRHdcrBNZire2LGLHu07CIavkc,AAIC--8/jfniki.6f5a806bd342.zip">CHK@hOK~y9pDhPWQdLr0H9122~Z3CyleZgO~adtyPMMikh4,oxHaxq9bSyK62r8r5ZRHdcrBNZire2LGLHu07CIavkc,AAIC--8/jfniki.6f5a806bd342.zip</a></code></pre><p/>
<a href="/USK@Gq-FBhpgvr11VGpapG~y0rGFOAHVfzyW1WoKGwK-fFw,MpzFUh5Rmw6N~aMKwm9h2Uk~6aTRhYaY0shXVotgBUc,AQACAAE/fniki/85/HgInfocalypse">hg infocalpse</a> repo:<br/>
<code>
USK@kRM~jJVREwnN2qnA8R0Vt8HmpfRzBZ0j4rHC2cQ-0hw,2xcoQVdQLyqfTpF2DpkdUIbHFCeL4W~2X1phUYymnhM,AQACAAE/jfniki.R1/27
</code>
</div>
<div>
<h4>release notes</h4>
<pre><code>Added support for re-inserting existing versions.
If you click the &quot;Submit&quot; link when there are no local changes
it will cause the current version to be re-inserted.

If you aren&apos;t using the private key that the version was
inserted with, the data blocks will still be re-inserted, but
the top key won&apos;t (i.e. it is inserted under your SSK keyspace
instead).

3cd715c98842
Fixed bug that was causing USK site insertion not to work
when no custom private key was specified.

Fixed diff coloring in jfniki.css.

839fa407826d
Added support for image links.

Here&apos;s example wikitext for an image link which goes to Toad&apos;s site.

{{freenet:SSK@yGvITGZzrY1vUZK-4AaYLgcjZ7ysRqNTMfdcO8gS-LY,-ab5bJVD3Lp-LXEQqBAhJpMKrKJ19RnNaZMIkusU79s,AQACAAE/toad-41/activelink.png|This image is a link to Toad&apos;s freesite.|freenet:USK@yGvITGZzrY1vUZK-4AaYLgcjZ7ysRqNTMfdcO8gS-LY,-ab5bJVD3Lp-LXEQqBAhJpMKrKJ19RnNaZMIkusU79s,AQACAAE/toad/41}}

Note that you must supply the alt text.

Got rid of the hard coded link color in the plugin css, so links
in the plugin should respect the fproxy theme, which I believe
was SFA&apos;s intention.

Added an &quot;Update&quot; link which tries to automatically update all
USK&apos;s on all pages to the latest indexes.

Added support for supplying an optional SSK key for site insertion.
If you want to use this, supply an SSK private key (i.e.
starting with &apos;SSK@&apos; and ending in &apos;/&apos; in the &apos;Site Private Key&apos;
field before you hit the &apos;Confirm&apos; button. The value is not saved,
so you need to supply it for every insert.

ce3d2c7e212c
I merged SeekingForAttention&apos;s changes to convert jfniki into
a first class plugin (i.e. Toadlet).

8b8d608e8198
I added support for inserting wiki mirror freesites from jfniki.

INSERTING:
There is a new &quot;Insert&quot; link at the very bottom of the page which
brings up the Freesite Insert page.

There are radio buttons to choose between USK and CHK inserts.

If you choose CHK, the site will be inserted under an CHK, which
is good for testing.

If you choose USK, the site will be inserted under the public key
corresponding to your FMS / Freetalk private key, with the human
readable site name you specify.  It should find the correct
insertion index for you.

GOTCHAS:
* This feature relies on the underlying FCP2 ClientPutComplexDir command.
  It seems pretty flaky especially for USK insertion, and especially
  when the network is overloaded.  If you need reliability stick with
  DumpWiki and jSite.

THEMES:
If you want, you can customize the the way the site is inserted by
providing a theme zip file.

The zip file MUST have the following layout:

theme/config/template.html  -- a template file like the one used for DumpWiki
theme/config/default_page.txt -- a text file with one line containing the default page name
theme/static/ -- this directory can contain any static files you like.

Here&apos;s an example theme you can download from freenet and unzip:

CHK@Vp5D8hw9sQi5EGyW6xwjB3xoSCBPkej0RJP5x6vjKWs,UhRPRMdff3EKMIt7VtzaMI7cluGWStmL7~iRYaQQ-6w,AAIC--8/test_theme.zip

GOTCHAS:
* The default_page.txt file should contain the final converted name of the
  page in the freesite, not the wiki name. It can be a static file.
  e.g. use &quot;Front_Page.html&quot; for the &quot;Front_Page&quot; wiki page.
* There are no directories in the inserted site.
  e.g. theme/static/my_file.txt in the .zip file will appear as
  USK@&lt;line nois&gt;/sitename/my_file.txt
* Theme .zip files must be &lt; 128K (and should be much smaller).
* Uploaded theme .zip files must end in .zip. Only a-z, A-Z, 0-9 , &apos;-&apos; and &apos;_&apos;
  are allowed in the name part.
* Error reporting for problems with .zip files is poor so if you mess
  up the theme .zip file, you won&apos;t get much useful feedback. Sorry.

5686a2328b99
Fixed bug that was causing &quot;Discover&quot; to fail with an
&quot;Error reading log: XGETTRUST NNTP request failed: 480 Identity not found&quot; error
message on FMS. This only happened for deleted identities.
</code></pre>
<h4>about jfniki</h4>
<ul>
  <li>The <a href = "/USK@UB0RPdoXvA61bfDbpvIVFyft1JiqUPhTLONHsWVGU0k,gFG9I3679g-1dUZvOorUuudr~JvSgRemmMdfiPxxcY8,AQACAAE/freenetdocwiki_mirror/61/">Freenet Doc Wiki Mirror</a>
has good documentation on jfniki. Activelink: <br/>
  <img src = "/USK@UB0RPdoXvA61bfDbpvIVFyft1JiqUPhTLONHsWVGU0k,gFG9I3679g-1dUZvOorUuudr~JvSgRemmMdfiPxxcY8,AQACAAE/freenetdocwiki_mirror/61/activelink.png" alt = "[FWDM activelink]"
       width="108" height="36"/>
  </li>
  <li> The
  <a href="/USK@Gq-FBhpgvr11VGpapG~y0rGFOAHVfzyW1WoKGwK-fFw,MpzFUh5Rmw6N~aMKwm9h2Uk~6aTRhYaY0shXVotgBUc,AQACAAE/fniki/85/JfnikiProtoType">JfnikiProtoType</a> page in the old wikibot based wiki
  has some technical info.
  </li>
  <li> author: <code>djk@isFiaD04zgAgnrEC5XJt1i4IE7AkNPqhBG5bONi6Yks</code> </li>
</ul>
</div>
<div>
<br/>
<br/>
<br/>
</div>
<div>
<h4>site info</h4>
<img src="activelink.png" alt="[jfniki releases activelink.png]" width="108" height="36"/>
<p>
<a href="/?newbookmark=USK@kRM~jJVREwnN2qnA8R0Vt8HmpfRzBZ0j4rHC2cQ-0hw,2xcoQVdQLyqfTpF2DpkdUIbHFCeL4W~2X1phUYymnhM,AQACAAE/jfniki_releases/11/&amp;desc=jfniki releases">[bookmark!]</a>
</div>
</body>
</html>
