<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="description"
      content="Release page for the jfniki serverless anonymous wiki plugin." />
<style type="text/css">
body {
  background-color: #ffffff;
  font-family: monospace, fixedsys;
}
</style>
<title>jfniki version: c9ad3afced26</title>
</head>
<body>
<h4>jfniki version: c9ad3afced26</h4>
<div>
<code>jfniki plugin.jar</code>:<br/>
<pre><code><a href="/CHK@Hh0TmA0PlnKOXZZDgDkO5JvKVFyGZ~mrYJ2PiRufLPU,XO5jhUJirWN6QqslXdSYYZodRh34opEQC8UwRZXFT7U,AAIC--8/jfniki.c9ad3afced26.jar">CHK@Hh0TmA0PlnKOXZZDgDkO5JvKVFyGZ~mrYJ2PiRufLPU,XO5jhUJirWN6QqslXdSYYZodRh34opEQC8UwRZXFT7U,AAIC--8/jfniki.c9ad3afced26.jar</a></code></pre><p/>
<code>source code zip:</code><br/>
<pre><code><a href="/CHK@X0SUkH~v-wJIkO7WP7RiEhvtYJGhTX0R77lOPHMERR4,KTc0U1a3IrpUNHAWetA-ff9A2~IcfOXOeGpjtTHpi~I,AAIC--8/jfniki.c9ad3afced26.zip">CHK@X0SUkH~v-wJIkO7WP7RiEhvtYJGhTX0R77lOPHMERR4,KTc0U1a3IrpUNHAWetA-ff9A2~IcfOXOeGpjtTHpi~I,AAIC--8/jfniki.c9ad3afced26.zip</a></code></pre><p/>
<a href="/USK@-bk9znYylSCOEDuSWAvo5m72nUeMxKkDmH3nIqAeI-0,qfu5H3FZsZ-5rfNBY-jQHS5Ke7AT2PtJWd13IrPZjcg,AQACAAE/feral_codewright/21/infocalypse_howto.html">hg infocalpse</a> repo:<br/>
<code>
USK@kRM~jJVREwnN2qnA8R0Vt8HmpfRzBZ0j4rHC2cQ-0hw,2xcoQVdQLyqfTpF2DpkdUIbHFCeL4W~2X1phUYymnhM,AQACAAE/jfniki.R1/30
</code>
</div>
<div>
<h4>release notes</h4>
<pre><code>Fixed bug that was keeping &quot;Like&quot; from working.

f66ccc08c13e
Added importing and exporting of wiki versions. Note that you can only export
submitted, unmodified versions with no rebase archive loaded.

Moved some less used links onto a &quot;Display more tools...&quot; page in the UI.

Fixed re-inserting to re-insert to a CHK when you don&apos;t have the
private key.

Changed UI to color missing local links red.

Fixed a bug in the underlying wormarc library that was keeping unreferenced
data from being discarded. Archives should grow much more slowly.

Fixes for correct utf-8 character rendering when running standalone.

6bfef4ae4b6e
Added SskVersionLinks macro to generate links to previous versions of a USK. Example:
&lt;&lt;&lt;SskVersionLinks|freenet:USK@Dtz9FjDPmOxiT54Wjt7JwMJKWaqSOS-UGw4miINEvtg,cuIx2THw7G7cVyh9PuvNiHa1e9BvNmmfTcbQ7llXh2Q,AQACAAE/irclogs/143/|14|+7&gt;&gt;&gt;
Arguments are: usk|count|latest_index
If latest_index is prefixed with &apos;+&apos; then the value is interpreted as relative to
the current USK index.

Allow USK links for images but render them as SSKs. Example:
{{freenet:USK@940RYvj1-aowEHGsb5HeMTigq8gnV14pbKNsIvUO~-0,FdTbR3gIz21QNfDtnK~MiWgAf2kfwHe-cpyJXuLHdOE,AQACAAE/publish/3/activelink.png|Automatically frozen SSK link for a USK}}

Added handling for  &apos;__short__&apos; and &apos;__ordinal__&apos; in freenet link titles. Examples:
[[freenet:USK@940RYvj1-aowEHGsb5HeMTigq8gnV14pbKNsIvUO~-0,FdTbR3gIz21QNfDtnK~MiWgAf2kfwHe-cpyJXuLHdOE,AQACAAE/publish/3/|__short__]]
[[freenet:USK@940RYvj1-aowEHGsb5HeMTigq8gnV14pbKNsIvUO~-0,FdTbR3gIz21QNfDtnK~MiWgAf2kfwHe-cpyJXuLHdOE,AQACAAE/publish/3/|publish:__ordinal__]]

Add a &apos;Like&apos; link to send an NNTP message recommending the currently loaded wiki version.
&apos;Likers&apos; show up preceded by &apos;+&apos; on the &apos;Discover&apos; page, the initial inserter shows
up with a &apos;there exists&apos; symbol (looks like a backwards capital &apos;E&apos;).
Note: I was not able to test this on FreeTalk.  If there are bugs post bug reports on FMS
and I will fix them.
Note: This doesn&apos;t prune out redundant messages from the same id yet.
That will be fixed eventually.

6f5a806bd342
Added support for re-inserting existing versions.
If you click the &quot;Submit&quot; link when there are no local changes
it will cause the current version to be re-inserted.

If you aren&apos;t using the private key that the version was
inserted with, the data blocks will still be re-inserted, but
the top key won&apos;t (i.e. it is inserted under your SSK keyspace
instead).

3cd715c98842
Fixed bug that was causing USK site insertion not to work
when no custom private key was specified.

Fixed diff coloring in jfniki.css.

839fa407826d
Added support for image links.

Here&apos;s example wikitext for an image link which goes to Toad&apos;s site.

{{freenet:SSK@yGvITGZzrY1vUZK-4AaYLgcjZ7ysRqNTMfdcO8gS-LY,-ab5bJVD3Lp-LXEQqBAhJpMKrKJ19RnNaZMIkusU79s,AQACAAE/toad-41/activelink.png|This image is a link to Toad&apos;s freesite.|freenet:USK@yGvITGZzrY1vUZK-4AaYLgcjZ7ysRqNTMfdcO8gS-LY,-ab5bJVD3Lp-LXEQqBAhJpMKrKJ19RnNaZMIkusU79s,AQACAAE/toad/41}}

Note that you must supply the alt text.

Got rid of the hard coded link color in the plugin css, so links
in the plugin should respect the fproxy theme, which I believe
was SFA&apos;s intention.

Added an &quot;Update&quot; link which tries to automatically update all
USK&apos;s on all pages to the latest indexes.

Added support for supplying an optional SSK key for site insertion.
If you want to use this, supply an SSK private key (i.e.
starting with &apos;SSK@&apos; and ending in &apos;/&apos; in the &apos;Site Private Key&apos;
field before you hit the &apos;Confirm&apos; button. The value is not saved,
so you need to supply it for every insert.

ce3d2c7e212c
I merged SeekingForAttention&apos;s changes to convert jfniki into
a first class plugin (i.e. Toadlet).

8b8d608e8198
I added support for inserting wiki mirror freesites from jfniki.

INSERTING:
There is a new &quot;Insert&quot; link at the very bottom of the page which
brings up the Freesite Insert page.

There are radio buttons to choose between USK and CHK inserts.

If you choose CHK, the site will be inserted under an CHK, which
is good for testing.

If you choose USK, the site will be inserted under the public key
corresponding to your FMS / Freetalk private key, with the human
readable site name you specify.  It should find the correct
insertion index for you.

GOTCHAS:
* This feature relies on the underlying FCP2 ClientPutComplexDir command.
  It seems pretty flaky especially for USK insertion, and especially
  when the network is overloaded.  If you need reliability stick with
  DumpWiki and jSite.

THEMES:
If you want, you can customize the the way the site is inserted by
providing a theme zip file.

The zip file MUST have the following layout:

theme/config/template.html  -- a template file like the one used for DumpWiki
theme/config/default_page.txt -- a text file with one line containing the default page name
theme/static/ -- this directory can contain any static files you like.

Here&apos;s an example theme you can download from freenet and unzip:

CHK@Vp5D8hw9sQi5EGyW6xwjB3xoSCBPkej0RJP5x6vjKWs,UhRPRMdff3EKMIt7VtzaMI7cluGWStmL7~iRYaQQ-6w,AAIC--8/test_theme.zip

GOTCHAS:
* The default_page.txt file should contain the final converted name of the
  page in the freesite, not the wiki name. It can be a static file.
  e.g. use &quot;Front_Page.html&quot; for the &quot;Front_Page&quot; wiki page.
* There are no directories in the inserted site.
  e.g. theme/static/my_file.txt in the .zip file will appear as
  USK@&lt;line nois&gt;/sitename/my_file.txt
* Theme .zip files must be &lt; 128K (and should be much smaller).
* Uploaded theme .zip files must end in .zip. Only a-z, A-Z, 0-9 , &apos;-&apos; and &apos;_&apos;
  are allowed in the name part.
* Error reporting for problems with .zip files is poor so if you mess
  up the theme .zip file, you won&apos;t get much useful feedback. Sorry.

</code></pre>
<h4>about jfniki</h4>
<ul>
  <li>The <a href = "/USK@UB0RPdoXvA61bfDbpvIVFyft1JiqUPhTLONHsWVGU0k,gFG9I3679g-1dUZvOorUuudr~JvSgRemmMdfiPxxcY8,AQACAAE/freenetdocwiki_mirror/61/">Freenet Doc Wiki Mirror</a>
has good documentation on jfniki. Activelink: <br/>
  <img src = "/USK@UB0RPdoXvA61bfDbpvIVFyft1JiqUPhTLONHsWVGU0k,gFG9I3679g-1dUZvOorUuudr~JvSgRemmMdfiPxxcY8,AQACAAE/freenetdocwiki_mirror/61/activelink.png" alt = "[FWDM activelink]"
       width="108" height="36"/>
  </li>
  <li> The
  <a href="/USK@Gq-FBhpgvr11VGpapG~y0rGFOAHVfzyW1WoKGwK-fFw,MpzFUh5Rmw6N~aMKwm9h2Uk~6aTRhYaY0shXVotgBUc,AQACAAE/fniki/85/JfnikiProtoType">JfnikiProtoType</a> page in the old wikibot based wiki
  has some technical info.
  </li>
  <li> author: <code>djk@isFiaD04zgAgnrEC5XJt1i4IE7AkNPqhBG5bONi6Yks</code> </li>
</ul>
</div>
<div>
<br/>
<br/>
<br/>
</div>
<div>
<h4>site info</h4>
<img src="activelink.png" alt="[jfniki releases activelink.png]" width="108" height="36"/>
<p>
<a href="/?newbookmark=USK@kRM~jJVREwnN2qnA8R0Vt8HmpfRzBZ0j4rHC2cQ-0hw,2xcoQVdQLyqfTpF2DpkdUIbHFCeL4W~2X1phUYymnhM,AQACAAE/jfniki_releases/15/&amp;desc=jfniki releases">[bookmark!]</a>
</div>
</body>
</html>
